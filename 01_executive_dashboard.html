<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canadian Restoration Visa: Executive Dashboard</title>
    <meta name="description" content="Comprehensive policy framework overview for the Canadian Restoration Visa program">
    <style>
        /* CSS Variables for Theming */
        :root {
            --primary: #0A3D62;
            --secondary: #1B6B93;
            --accent: #4CA1AF;
            --highlight: #82CCE3;
            --success: #2D6A4F;
            --warning: #E76F51;
            --background: #F8F9FA;
            --surface: #FFFFFF;
            --text-primary: #1A1A1A;
            --text-secondary: #4A4A4A;
            --border: #E0E0E0;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 12px 24px rgba(0,0,0,0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #F8F9FA 0%, #E9ECEF 100%);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Atmospheric Background with Particles */
        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            opacity: 0.3;
        }

        /* Header */
        header {
            position: relative;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2.5rem 2rem;
            box-shadow: var(--shadow-lg);
            z-index: 10;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.1;
        }

        .header-content {
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 300;
        }

        /* Navigation */
        nav {
            background: var(--surface);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .nav-content::-webkit-scrollbar {
            height: 4px;
        }

        .nav-content::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 2px;
        }

        .nav-btn {
            padding: 0.6rem 1.2rem;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .nav-btn:hover, .nav-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Main Content */
        main {
            position: relative;
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem 4rem;
            z-index: 1;
        }

        .section {
            background: var(--surface);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Key Metrics Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .metric-card {
            background: linear-gradient(135deg, var(--surface) 0%, #F8F9FA 100%);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .metric-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, var(--accent) 0%, var(--secondary) 100%);
        }

        .metric-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.3rem;
        }

        .metric-context {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .metric-trend {
            display: inline-block;
            margin-left: 0.5rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .trend-positive {
            background: rgba(45, 106, 79, 0.1);
            color: var(--success);
        }

        /* Charts Container */
        .chart-container {
            background: var(--surface);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border);
            min-height: 400px;
        }

        .chart-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, var(--accent) 0%, var(--primary) 100%);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 3rem;
            display: flex;
            align-items: center;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            flex: 1;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
        }

        .timeline-content:hover {
            transform: scale(1.03);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }

        .timeline-dot {
            width: 20px;
            height: 20px;
            background: var(--accent);
            border: 4px solid var(--surface);
            border-radius: 50%;
            box-shadow: 0 0 0 4px var(--accent);
            z-index: 2;
            margin: 0 2rem;
        }

        .timeline-date {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        /* Provincial Map Placeholder */
        .map-container {
            width: 100%;
            height: 500px;
            background: linear-gradient(135deg, #E9ECEF 0%, #DEE2E6 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .map-container svg {
            width: 100%;
            height: 100%;
        }

        /* Policy Pillars */
        .pillars-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .pillar-card {
            background: linear-gradient(135deg, var(--surface) 0%, #F8F9FA 100%);
            border-radius: 12px;
            padding: 2rem;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .pillar-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--accent) 0%, var(--secondary) 100%);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .pillar-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent);
        }

        .pillar-card:hover::before {
            transform: scaleX(1);
        }

        .pillar-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .pillar-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.8rem;
        }

        .pillar-description {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* Action Buttons */
        .action-bar {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .btn {
            padding: 0.9rem 1.8rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }

        /* Data Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--surface);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .data-table thead {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .data-table th {
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .data-table tbody tr:hover {
            background: rgba(76, 161, 175, 0.05);
        }

        /* Footer */
        footer {
            background: var(--primary);
            color: white;
            padding: 2rem;
            text-align: center;
            margin-top: 4rem;
        }

        .zero-harm-notice {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .zero-harm-notice h3 {
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
        }

        .zero-harm-notice p {
            font-size: 0.95rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .timeline::before {
                left: 20px;
            }

            .timeline-item {
                flex-direction: row !important;
            }

            .timeline-dot {
                margin: 0 1rem 0 0;
            }

            .pillars-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Print Styles */
        @media print {
            #particles-canvas, nav, .action-bar {
                display: none;
            }
            .section {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <!-- Atmospheric Particle Background -->
    <canvas id="particles-canvas" aria-hidden="true"></canvas>

    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>Canadian Restoration Visa Framework</h1>
            <p class="subtitle">Executive Policy Dashboard ‚Ä¢ Research-Informed Implementation Guide</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav role="navigation" aria-label="Dashboard sections">
        <div class="nav-content">
            <button class="nav-btn active" data-section="overview">Overview</button>
            <button class="nav-btn" data-section="metrics">Key Metrics</button>
            <button class="nav-btn" data-section="pillars">Policy Pillars</button>
            <button class="nav-btn" data-section="timeline">Implementation Timeline</button>
            <button class="nav-btn" data-section="provinces">Provincial Analysis</button>
            <button class="nav-btn" data-section="evidence">Evidence Base</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Executive Overview Section -->
        <section class="section" id="overview-section">
            <h2>Executive Summary</h2>
            <p style="font-size: 1.1rem; line-height: 1.8; margin: 1.5rem 0;">
                Canada requires <strong>480,510 additional environmental workers by 2033</strong> to meet net-zero commitments, 30x30 biodiversity targets, and ecological restoration needs. The Canadian Restoration Visa leverages existing Provincial Nominee Programs and Express Entry infrastructure to create a first-of-its-kind immigration pathway connecting international restoration practitioners to this critical labor shortage.
            </p>

            <div class="action-bar">
                <button class="btn btn-primary" onclick="window.location.href='02_provincial_assessment.html'">Provincial Needs Assessment ‚Üí</button>
                <button class="btn btn-secondary" onclick="window.location.href='03_economic_calculator.html'">Economic Impact Analysis ‚Üí</button>
                <button class="btn btn-secondary" onclick="window.location.href='04_indigenous_framework.html'">Indigenous Partnership Framework ‚Üí</button>
            </div>

            <div class="chart-container">
                <div class="chart-title">Environmental Workforce Gap (2024-2033)</div>
                <canvas id="workforce-gap-chart" aria-label="Chart showing environmental workforce gap projections"></canvas>
            </div>
        </section>

        <!-- Key Metrics Section -->
        <section class="section" id="metrics-section" style="display: none;">
            <h2>Critical Program Metrics</h2>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">Environmental Worker Shortage</div>
                    <div class="metric-value">480,510</div>
                    <div class="metric-context">
                        Required by 2033
                        <span class="metric-trend trend-positive">‚Üë 34% from 2024</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Federal Nature Investment</div>
                    <div class="metric-value">$12B+</div>
                    <div class="metric-context">
                        Committed since 2018
                        <span class="metric-trend trend-positive">Sustained funding</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Available PNP Spaces (2025)</div>
                    <div class="metric-value">55,000</div>
                    <div class="metric-context">
                        Annual allocation across provinces
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Indigenous Guardian Programs</div>
                    <div class="metric-value">240+</div>
                    <div class="metric-context">
                        Active initiatives, 1,500 jobs created
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">30x30 Land Protection Target</div>
                    <div class="metric-value">30%</div>
                    <div class="metric-context">
                        By 2030 (currently 13.7% terrestrial)
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Atlantic Program Retention</div>
                    <div class="metric-value">94%</div>
                    <div class="metric-context">
                        First-year retention rate
                        <span class="metric-trend trend-positive">+67pp vs traditional</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Restoration ROI</div>
                    <div class="metric-value">30:1</div>
                    <div class="metric-context">
                        Economic return on restoration investment
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Clean Energy Job Growth</div>
                    <div class="metric-value">2.7M</div>
                    <div class="metric-context">
                        Projected by 2050 (7% annual growth)
                    </div>
                </div>
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Province/Territory</th>
                        <th>Environmental Workforce (2024)</th>
                        <th>Projected Net Hires (2024-2033)</th>
                        <th>Priority Restoration Domains</th>
                        <th>Implementation Readiness</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Ontario</strong></td>
                        <td>500,250</td>
                        <td>168,600</td>
                        <td>Great Lakes, Soil Health, Urban Restoration</td>
                        <td>üü¢ High</td>
                    </tr>
                    <tr>
                        <td><strong>British Columbia</strong></td>
                        <td>196,420</td>
                        <td>81,970</td>
                        <td>Wildfire Recovery, Old-Growth, Salmon Habitat</td>
                        <td>üü¢ High</td>
                    </tr>
                    <tr>
                        <td><strong>Alberta</strong></td>
                        <td>168,950</td>
                        <td>59,010</td>
                        <td>Energy Transition, Grassland, Soil Carbon</td>
                        <td>üü° Medium</td>
                    </tr>
                    <tr>
                        <td><strong>Manitoba</strong></td>
                        <td>42,250</td>
                        <td>20,410</td>
                        <td>Lake Winnipeg, Wetlands, Prairie Restoration</td>
                        <td>üü¢ High</td>
                    </tr>
                    <tr>
                        <td><strong>Northwest Territories</strong></td>
                        <td>8,240</td>
                        <td>3,160</td>
                        <td>IPCAs, Permafrost Monitoring, Indigenous-Led</td>
                        <td>üü¢ High</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Policy Pillars Section -->
        <section class="section" id="pillars-section" style="display: none;">
            <h2>Five Foundational Policy Pillars</h2>
            <p style="margin-bottom: 2rem;">The Restoration Visa integrates five interconnected policy domains, each requiring coordinated federal-provincial-Indigenous implementation.</p>

            <div class="pillars-grid">
                <div class="pillar-card">
                    <div class="pillar-icon">üèõÔ∏è</div>
                    <div class="pillar-title">1. Immigration Infrastructure Integration</div>
                    <div class="pillar-description">
                        Leverages existing Provincial Nominee Programs (55,000 annual spaces) and Express Entry category-based selection. Targets TEER 1 (ecologists, biologists) and TEER 2 (technicians) occupations with language requirements from CLB 5-7. Streamlined LMIA processing for designated restoration employers.
                    </div>
                </div>

                <div class="pillar-card">
                    <div class="pillar-icon">üå≤</div>
                    <div class="pillar-title">2. Ecological Restoration Science</div>
                    <div class="pillar-description">
                        Aligns with Society for Ecological Restoration standards, Canada's 30x30 biodiversity commitments, and province-specific restoration priorities. Includes wildfire recovery (15M hectares burned 2023), wetland restoration, grassland conservation, watershed management, and marine/coastal ecosystem recovery.
                    </div>
                </div>

                <div class="pillar-card">
                    <div class="pillar-icon">ü§ù</div>
                    <div class="pillar-title">3. Indigenous Sovereignty & UNDRIP</div>
                    <div class="pillar-description">
                        Mandatory Free, Prior and Informed Consent (FPIC) protocols. Integration with Indigenous Guardian program (240+ initiatives, $100M federal investment). Supports Indigenous Protected and Conserved Areas (IPCAs) as primary pathway to 30x30 targets. Nation-to-nation partnership models.
                    </div>
                </div>

                <div class="pillar-card">
                    <div class="pillar-icon">üí∞</div>
                    <div class="pillar-title">4. Economic Returns & Finance</div>
                    <div class="pillar-description">
                        Restoration delivers up to 30:1 investment returns. Federal GHG offset credit system enables carbon revenue generation. Nature Investment Hub targets $20B in blended public-private conservation finance. Wage structures ($52K-$128K for ecologists) support sustainable settlement.
                    </div>
                </div>

                <div class="pillar-card">
                    <div class="pillar-icon">üìç</div>
                    <div class="pillar-title">5. Rural Retention & Settlement</div>
                    <div class="pillar-description">
                        Builds on Atlantic Immigration Program's 94% first-year retention. Rural Community Immigration Pilot (14 communities) provides community-driven endorsement model. Settlement service eligibility for pathway participants. Strategic distribution to address rural labor shortages.
                    </div>
                </div>
            </div>
        </section>

        <!-- Implementation Timeline Section -->
        <section class="section" id="timeline-section" style="display: none;">
            <h2>Phased Implementation Timeline</h2>
            <p style="margin-bottom: 2rem;">Strategic rollout over 5 years from pilot to full-scale national program.</p>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-date">Q2 2026 - Q4 2026: Policy Development</div>
                        <p><strong>Federal-Provincial Coordination:</strong> IRCC collaboration with BC, Ontario, Manitoba, NWT. Draft PNP stream criteria and Express Entry category parameters.</p>
                        <p><strong>Indigenous Consultation:</strong> Nation-to-nation engagement protocols. First Nations National Guardians Network partnership framework.</p>
                        <p><strong>Deliverables:</strong> Program design document, FPIC protocols, credential recognition framework, employer designation criteria.</p>
                    </div>
                    <div class="timeline-dot"></div>
                    <div style="flex: 1;"></div>
                </div>

                <div class="timeline-item">
                    <div style="flex: 1;"></div>
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">Q1 2027 - Q4 2027: Pilot Launch</div>
                        <p><strong>Scale:</strong> 500-1,000 visa allocations across 4 provinces. Target high-readiness jurisdictions with strong Indigenous partnerships.</p>
                        <p><strong>Infrastructure:</strong> Credential assessment through ECO Canada. Settlement service partnerships. Digital platform integration with IRCC modernization.</p>
                        <p><strong>Monitoring:</strong> Baseline data collection. SER Recovery Wheel metrics. Remote sensing verification systems.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-date">2028: Pilot Evaluation & Iteration</div>
                        <p><strong>Evaluation Criteria:</strong> Retention rates (target: >85%), restoration outcome verification, Indigenous partnership satisfaction, employer feedback, settlement integration success.</p>
                        <p><strong>Adjustments:</strong> Refine language requirements, optimize provincial distribution, enhance settlement supports, strengthen monitoring protocols.</p>
                        <p><strong>Expansion Planning:</strong> Identify additional provinces/territories for Phase 2 rollout.</p>
                    </div>
                    <div class="timeline-dot"></div>
                    <div style="flex: 1;"></div>
                </div>

                <div class="timeline-item">
                    <div style="flex: 1;"></div>
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">2029-2030: National Expansion</div>
                        <p><strong>Scale:</strong> 5,000-10,000 annual visa allocations. All provinces/territories with restoration capacity participate.</p>
                        <p><strong>Integration:</strong> Full Express Entry category-based selection for restoration occupations. Permanent LMIA exemptions for designated restoration sectors.</p>
                        <p><strong>Targets:</strong> Contribute 15-20% of environmental workforce gap closure by 2033. Support 30x30 biodiversity commitment achievement.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <div class="timeline-date">2031+: Maturity & Optimization</div>
                        <p><strong>Permanent Program Status:</strong> Established as core immigration pathway alongside existing economic streams.</p>
                        <p><strong>International Model:</strong> Template for other nations facing green skills gaps. Knowledge transfer to OECD partners.</p>
                        <p><strong>Continuous Improvement:</strong> Annual program reviews. Adaptive management based on ecological outcomes and labor market dynamics.</p>
                    </div>
                    <div class="timeline-dot"></div>
                    <div style="flex: 1;"></div>
                </div>
            </div>
        </section>

        <!-- Provincial Analysis Section -->
        <section class="section" id="provinces-section" style="display: none;">
            <h2>Provincial Restoration Priorities & Capacity</h2>
            
            <div class="map-container">
                <svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Simplified Canada Map Representation -->
                    <text x="400" y="300" text-anchor="middle" font-size="24" fill="#0A3D62" font-weight="bold">
                        Interactive Provincial Map
                    </text>
                    <text x="400" y="330" text-anchor="middle" font-size="14" fill="#4A4A4A">
                        (Click province cards below for detailed analysis)
                    </text>
                    
                    <!-- BC -->
                    <circle cx="150" cy="250" r="40" fill="#4CA1AF" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="150" y="255" text-anchor="middle" font-size="12" font-weight="bold">BC</text>
                    
                    <!-- AB -->
                    <circle cx="250" cy="250" r="35" fill="#82CCE3" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="250" y="255" text-anchor="middle" font-size="12" font-weight="bold">AB</text>
                    
                    <!-- SK -->
                    <circle cx="330" cy="270" r="30" fill="#82CCE3" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="330" y="275" text-anchor="middle" font-size="12" font-weight="bold">SK</text>
                    
                    <!-- MB -->
                    <circle cx="400" cy="270" r="30" fill="#4CA1AF" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="400" y="275" text-anchor="middle" font-size="12" font-weight="bold">MB</text>
                    
                    <!-- ON -->
                    <circle cx="500" cy="320" r="50" fill="#2D6A4F" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="500" y="325" text-anchor="middle" font-size="12" font-weight="bold">ON</text>
                    
                    <!-- QC -->
                    <circle cx="600" cy="300" r="45" fill="#82CCE3" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="600" y="305" text-anchor="middle" font-size="12" font-weight="bold">QC</text>
                    
                    <!-- NWT -->
                    <circle cx="300" cy="120" r="35" fill="#4CA1AF" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="300" y="125" text-anchor="middle" font-size="11" font-weight="bold">NWT</text>
                    
                    <!-- Atlantic -->
                    <circle cx="680" cy="350" r="30" fill="#82CCE3" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                    <text x="680" y="355" text-anchor="middle" font-size="11" font-weight="bold">ATL</text>
                    
                    <!-- Legend -->
                    <g transform="translate(50, 450)">
                        <text x="0" y="0" font-size="12" font-weight="bold" fill="#0A3D62">Implementation Readiness:</text>
                        <circle cx="10" cy="20" r="8" fill="#2D6A4F" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                        <text x="25" y="25" font-size="11">High Priority (Pilot Phase)</text>
                        <circle cx="10" cy="45" r="8" fill="#4CA1AF" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                        <text x="25" y="50" font-size="11">Medium-High (Phase 2)</text>
                        <circle cx="10" cy="70" r="8" fill="#82CCE3" opacity="0.3" stroke="#0A3D62" stroke-width="2"/>
                        <text x="25" y="75" font-size="11">Developing Capacity</text>
                    </g>
                </svg>
            </div>

            <div style="margin-top: 2rem;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Pilot Phase Priority Jurisdictions</h3>
                <div class="pillars-grid">
                    <div class="pillar-card">
                        <div class="pillar-title">British Columbia</div>
                        <p><strong>Workforce:</strong> 196,420 current, 81,970 net hires needed</p>
                        <p><strong>Priorities:</strong> Post-wildfire landscape restoration (2023 record fire season), old-growth transition management, salmon habitat recovery (Fraser Basin), urban forest restoration</p>
                        <p><strong>Indigenous Partnership:</strong> Great Bear Rainforest model, extensive IPCA development</p>
                        <p><strong>Readiness:</strong> üü¢ High - Strong PNP infrastructure, Guardian program integration</p>
                    </div>

                    <div class="pillar-card">
                        <div class="pillar-title">Ontario</div>
                        <p><strong>Workforce:</strong> 500,250 current, 168,600 net hires needed</p>
                        <p><strong>Priorities:</strong> Great Lakes restoration (40% phosphorus reduction target), agricultural soil health crisis (82% farmland declining organic matter), urban ecological restoration, wetland recovery</p>
                        <p><strong>Economic Scale:</strong> Southern Ontario wetlands provide $4.2B annual filtration services</p>
                        <p><strong>Readiness:</strong> üü¢ High - Largest environmental workforce, established settlement infrastructure</p>
                    </div>

                    <div class="pillar-card">
                        <div class="pillar-title">Manitoba</div>
                        <p><strong>Workforce:</strong> 42,250 current, 20,410 net hires needed</p>
                        <p><strong>Priorities:</strong> Lake Winnipeg eutrophication (50% phosphorus reduction required), prairie grassland restoration, wetland conservation, agricultural transition support</p>
                        <p><strong>Indigenous Leadership:</strong> Strong First Nations land stewardship traditions</p>
                        <p><strong>Readiness:</strong> üü¢ High - RCIP participant (Brandon), rural retention models</p>
                    </div>

                    <div class="pillar-card">
                        <div class="pillar-title">Northwest Territories</div>
                        <p><strong>Workforce:</strong> 8,240 current, 3,160 net hires needed</p>
                        <p><strong>Priorities:</strong> Permafrost monitoring ($51M annual thaw costs), IPCA expansion (3 federally recognized IPCAs), Indigenous Guardian program scaling, climate adaptation infrastructure</p>
                        <p><strong>Unique Context:</strong> Highest Indigenous data sovereignty requirements, continuous permafrost challenges</p>
                        <p><strong>Readiness:</strong> üü¢ High - Indigenous-led governance models, federal IPCA investment</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Evidence Base Section -->
        <section class="section" id="evidence-section" style="display: none;">
            <h2>Research Evidence Base</h2>
            <p style="margin-bottom: 2rem;">This framework synthesizes 50+ peer-reviewed studies, government reports, and policy analyses from Canadian and international sources.</p>

            <h3 style="color: var(--primary); margin: 2rem 0 1rem;">Key Research Findings</h3>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Domain</th>
                        <th>Key Finding</th>
                        <th>Source</th>
                        <th>Policy Implication</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Labor Market</strong></td>
                        <td>480,510 environmental workers needed by 2033; 72% of openings driven by retirements</td>
                        <td>ECO Canada National Labour Market Report (2024)</td>
                        <td>Urgent workforce replacement need justifies accelerated immigration pathway</td>
                    </tr>
                    <tr>
                        <td><strong>Retention</strong></td>
                        <td>Atlantic Immigration Program achieves 94% first-year retention vs 27-57% historical Atlantic rates</td>
                        <td>IRCC / UN Migration Network (2024)</td>
                        <td>Employer-driven model with settlement integration prevents rural out-migration</td>
                    </tr>
                    <tr>
                        <td><strong>Indigenous Conservation</strong></td>
                        <td>Guardian programs return $2.50-$3.70 per dollar invested across social-economic-cultural-environmental outcomes</td>
                        <td>Indigenous Leadership Initiative / NWT Analysis</td>
                        <td>Integration with Guardian program maximizes multi-dimensional returns</td>
                    </tr>
                    <tr>
                        <td><strong>Economic Returns</strong></td>
                        <td>Restoration investments deliver up to 30:1 returns; wetlands provide $5.66B annual value (Ducks Unlimited holdings)</td>
                        <td>Smart Prosperity Institute / Institute for Sustainable Finance</td>
                        <td>Economic case supports substantial program funding and employer incentives</td>
                    </tr>
                    <tr>
                        <td><strong>Carbon Finance</strong></td>
                        <td>Federal offset credit prices rising to $170/tonne by 2030; IFM protocol generates marketable offsets</td>
                        <td>ECCC GHG Offset System / Nature Conservancy Canada</td>
                        <td>Carbon revenue can subsidize restoration employment costs</td>
                    </tr>
                    <tr>
                        <td><strong>30x30 Targets</strong></td>
                        <td>Canada at 13.7% terrestrial protection; IPCAs identified as primary pathway to 30% target</td>
                        <td>Canada's 2030 Nature Strategy / CBD</td>
                        <td>Restoration Visa directly supports biodiversity commitment achievement</td>
                    </tr>
                    <tr>
                        <td><strong>International Models</strong></td>
                        <td>Australia's regional visa system, EU Green Talent Pool, NZ skill shortage lists provide design precedents</td>
                        <td>Center for Global Development / IOM</td>
                        <td>Adaptable mechanisms exist; Canada can pioneer restoration-specific application</td>
                    </tr>
                    <tr>
                        <td><strong>Credential Recognition</strong></td>
                        <td>SER CERP certification provides international skills validation; Canadian programs (BCIT, Niagara, Trent) offer bridging pathways</td>
                        <td>Society for Ecological Restoration / Canadian post-secondary institutions</td>
                        <td>Credential assessment infrastructure exists; requires integration with IRCC processes</td>
                    </tr>
                </tbody>
            </table>

            <div style="margin-top: 3rem;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Critical Success Factors Identified from International Analysis</h3>
                <div class="pillars-grid">
                    <div class="pillar-card">
                        <div class="pillar-title">‚úÖ Clear Pathways to Permanence</div>
                        <div class="pillar-description">
                            Australia's 5-year provisional to permanent residence model demonstrates that defined progression increases retention. Recommendation: 2-year temporary work permit ‚Üí permanent residence eligibility upon employer endorsement and restoration outcome verification.
                        </div>
                    </div>

                    <div class="pillar-card">
                        <div class="pillar-title">‚úÖ Job Quality Standards</div>
                        <div class="pillar-description">
                            EU analysis reveals green jobs often lack wage premiums. 78% of renewable energy workers receive competing offers; 51% would move to fossil fuel sector for better pay. Recommendation: Mandatory minimum wage thresholds, career advancement frameworks, professional development support.
                        </div>
                    </div>

                    <div class="pillar-card">
                        <div class="pillar-title">‚úÖ Community Integration Support</div>
                        <div class="pillar-description">
                            Atlantic Immigration Program's settlement service eligibility for temporary workers proves decisive for retention. Recommendation: Extend full settlement services to Restoration Visa participants from arrival, not just permanent residence.
                        </div>
                    </div>

                    <div class="pillar-card">
                        <div class="pillar-title">‚úÖ Avoid Brain Drain Dynamics</div>
                        <div class="pillar-description">
                            Green skills gaps are global; unilateral recruitment can harm origin countries. Recommendation: Partner with source countries to develop training programs, ensure circular migration options, invest in Global South restoration capacity building.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2026 Government of Canada ‚Ä¢ Planetary Restoration Archive Partnership</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">
            Policy Framework Navigation: 
            <a href="02_provincial_assessment.html" style="color: white; text-decoration: underline;">Provincial Assessment</a> | 
            <a href="03_economic_calculator.html" style="color: white; text-decoration: underline;">Economic Calculator</a> | 
            <a href="04_indigenous_framework.html" style="color: white; text-decoration: underline;">Indigenous Framework</a> | 
            <a href="05_immigration_designer.html" style="color: white; text-decoration: underline;">Immigration Pathway</a>
        </p>

        <div class="zero-harm-notice">
            <h3>üõ°Ô∏è Zero Harm & Anti-Coercion Principles</h3>
            <p>
                This policy framework is designed with mandatory safeguards against exploitation, coercion, and harm. All implementation must include: (1) robust worker protections and labor standards enforcement, (2) Free, Prior and Informed Consent protocols for any work on Indigenous territories, (3) environmental outcome verification to prevent greenwashing, (4) transparent public reporting of program metrics and outcomes, (5) independent oversight mechanisms, and (6) pathways for workers to report violations without immigration consequences.
            </p>
            <p style="margin-top: 1rem;">
                <strong>Privacy & Data Protection:</strong> No personal data collection beyond program administration requirements. All data handling complies with federal privacy legislation. Indigenous data sovereignty principles (OCAP¬Æ) govern any data related to Indigenous peoples or territories. Users retain full control over locally stored preferences and can reset at any time.
            </p>
        </div>
    </footer>

    <script>
        // Particle Animation System
        const canvas = document.getElementById('particles-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let animationId;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
                this.opacity = Math.random() * 0.5 + 0.2;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
            }

            draw() {
                ctx.fillStyle = `rgba(76, 161, 175, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            const numberOfParticles = Math.min(Math.floor((canvas.width * canvas.height) / 15000), 100);
            for (let i = 0; i < numberOfParticles; i++) {
                particles.push(new Particle());
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            // Draw connections between nearby particles
            particles.forEach((particleA, indexA) => {
                particles.slice(indexA + 1).forEach(particleB => {
                    const dx = particleA.x - particleB.x;
                    const dy = particleA.y - particleB.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < 100) {
                        ctx.strokeStyle = `rgba(76, 161, 175, ${0.1 * (1 - distance / 100)})`;
                        ctx.lineWidth = 0.5;
                        ctx.beginPath();
                        ctx.moveTo(particleA.x, particleA.y);
                        ctx.lineTo(particleB.x, particleB.y);
                        ctx.stroke();
                    }
                });
            });

            animationId = requestAnimationFrame(animateParticles);
        }

        // Initialize particles on load
        window.addEventListener('load', () => {
            resizeCanvas();
            initParticles();
            animateParticles();
        });

        window.addEventListener('resize', () => {
            resizeCanvas();
            initParticles();
        });

        // Navigation System
        const navButtons = document.querySelectorAll('.nav-btn');
        const sections = document.querySelectorAll('.section');

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetSection = button.dataset.section;
                
                // Update active button
                navButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                // Show target section
                sections.forEach(section => {
                    if (section.id === `${targetSection}-section`) {
                        section.style.display = 'block';
                        section.style.animation = 'fadeInUp 0.6s ease forwards';
                    } else {
                        section.style.display = 'none';
                    }
                });

                // Smooth scroll to top of main content
                document.querySelector('main').scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Workforce Gap Chart using Canvas
        function drawWorkforceGapChart() {
            const chartCanvas = document.getElementById('workforce-gap-chart');
            if (!chartCanvas) return;

            const ctx = chartCanvas.getContext('2d');
            const width = chartCanvas.parentElement.clientWidth;
            const height = 400;
            chartCanvas.width = width;
            chartCanvas.height = height;

            const data = {
                years: ['2024', '2025', '2026', '2027', '2028', '2029', '2030', '2031', '2032', '2033'],
                currentWorkforce: [1413710, 1435000, 1456000, 1477000, 1498000, 1519000, 1540000, 1561000, 1582000, 1603000],
                requiredWorkforce: [1413710, 1460000, 1506000, 1552000, 1598000, 1644000, 1690000, 1736000, 1782000, 1894220]
            };

            const padding = { top: 40, right: 40, bottom: 60, left: 80 };
            const chartWidth = width - padding.left - padding.right;
            const chartHeight = height - padding.top - padding.bottom;

            const maxValue = Math.max(...data.requiredWorkforce);
            const minValue = Math.min(...data.currentWorkforce);
            const valueRange = maxValue - minValue;

            // Background
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, width, height);

            // Grid lines
            ctx.strokeStyle = '#E0E0E0';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 5; i++) {
                const y = padding.top + (chartHeight / 5) * i;
                ctx.beginPath();
                ctx.moveTo(padding.left, y);
                ctx.lineTo(width - padding.right, y);
                ctx.stroke();

                // Y-axis labels
                const value = maxValue - (valueRange / 5) * i;
                ctx.fillStyle = '#4A4A4A';
                ctx.font = '12px Segoe UI';
                ctx.textAlign = 'right';
                ctx.fillText(Math.round(value / 1000) + 'K', padding.left - 10, y + 4);
            }

            // X-axis labels
            data.years.forEach((year, i) => {
                const x = padding.left + (chartWidth / (data.years.length - 1)) * i;
                ctx.fillStyle = '#4A4A4A';
                ctx.font = '12px Segoe UI';
                ctx.textAlign = 'center';
                ctx.fillText(year, x, height - padding.bottom + 25);
            });

            // Plot lines
            function plotLine(dataArray, color, lineWidth = 3) {
                ctx.strokeStyle = color;
                ctx.lineWidth = lineWidth;
                ctx.beginPath();

                dataArray.forEach((value, i) => {
                    const x = padding.left + (chartWidth / (dataArray.length - 1)) * i;
                    const y = padding.top + chartHeight - ((value - minValue) / valueRange) * chartHeight;

                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });

                ctx.stroke();

                // Add data points
                dataArray.forEach((value, i) => {
                    const x = padding.left + (chartWidth / (dataArray.length - 1)) * i;
                    const y = padding.top + chartHeight - ((value - minValue) / valueRange) * chartHeight;

                    ctx.fillStyle = color;
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, Math.PI * 2);
                    ctx.fill();
                });
            }

            // Fill area between lines (the gap)
            ctx.fillStyle = 'rgba(231, 111, 81, 0.1)';
            ctx.beginPath();
            
            data.currentWorkforce.forEach((value, i) => {
                const x = padding.left + (chartWidth / (data.currentWorkforce.length - 1)) * i;
                const y = padding.top + chartHeight - ((value - minValue) / valueRange) * chartHeight;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });

            for (let i = data.requiredWorkforce.length - 1; i >= 0; i--) {
                const value = data.requiredWorkforce[i];
                const x = padding.left + (chartWidth / (data.requiredWorkforce.length - 1)) * i;
                const y = padding.top + chartHeight - ((value - minValue) / valueRange) * chartHeight;
                ctx.lineTo(x, y);
            }

            ctx.closePath();
            ctx.fill();

            // Plot the lines
            plotLine(data.currentWorkforce, '#1B6B93');
            plotLine(data.requiredWorkforce, '#E76F51');

            // Legend
            const legendX = padding.left + 20;
            const legendY = padding.top + 20;

            ctx.fillStyle = '#1B6B93';
            ctx.fillRect(legendX, legendY, 30, 3);
            ctx.fillStyle = '#1A1A1A';
            ctx.font = '13px Segoe UI';
            ctx.textAlign = 'left';
            ctx.fillText('Current Workforce Projection', legendX + 40, legendY + 4);

            ctx.fillStyle = '#E76F51';
            ctx.fillRect(legendX, legendY + 25, 30, 3);
            ctx.fillStyle = '#1A1A1A';
            ctx.fillText('Required Workforce (Demand)', legendX + 40, legendY + 29);

            // Gap annotation
            const gapX = padding.left + chartWidth - 100;
            const gapY = padding.top + 100;
            ctx.fillStyle = 'rgba(231, 111, 81, 0.9)';
            ctx.font = 'bold 16px Segoe UI';
            ctx.textAlign = 'center';
            ctx.fillText('480,510', gapX, gapY);
            ctx.font = '13px Segoe UI';
            ctx.fillText('Worker Gap', gapX, gapY + 20);
            ctx.fillText('by 2033', gapX, gapY + 35);
        }

        // Draw chart after DOM load
        window.addEventListener('load', () => {
            setTimeout(drawWorkforceGapChart, 100);
        });

        window.addEventListener('resize', drawWorkforceGapChart);

        // Console message for developers
        console.log('%cüå≤ Canadian Restoration Visa Framework', 'color: #0A3D62; font-size: 18px; font-weight: bold;');
        console.log('%cThis policy framework is built on comprehensive research from 50+ sources.', 'color: #4A4A4A; font-size: 12px;');
        console.log('%cAll data visualizations use native Canvas API for performance and accessibility.', 'color: #4A4A4A; font-size: 12px;');
        console.log('%cNavigate through sections using the navigation bar above.', 'color: #4A4A4A; font-size: 12px;');
    </script>
</body>
</html>